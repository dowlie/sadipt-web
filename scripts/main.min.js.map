{"version":3,"sources":["main.js"],"names":["SADIPT","window","init","this","setColorBar","setToggleMenuButton","refresh","setPresentationHeight","el","document","getElementsByClassName","height","innerHeight","style","header","background","body","scrollTop","addEventListener","querySelector","menuButton","getElementById","menu","ulMenuMargin","parseInt","getComputedStyle","children","getPropertyValue","split","innerHTML","offsetHeight","opacity","removeAttribute","Carousel","cardsContainer","cardMargin","cardsNum","length","cardWidth","offsetWidth","distancePosition","innerWidth","containerWidth","_moveCarousel","addEvents","_refresh","moveLeft","lim","_carouselLimits","_clickCarousel","moveRight","event","preventDefault","classList","add","isMouseDown","currentPosition","_getTranslateX","startPosition","clientX","remove","_touchCarousel","touches","direction","pointerEvents","rightLimit","leftLimit","ww","limits","bounds","Math","abs","translateX","_carouselMovingEvent","Event","dispatchEvent","needForRAF","transform","x","requestAnimationFrame","LazyLoad","_lazyLoadImages","_isElementInViewport","rect","getBoundingClientRect","top","left","bottom","documentElement","clientHeight","right","clientWidth","images","querySelectorAll","forEach","call","item","setAttribute","getAttribute","removeEventListener"],"mappings":"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","file":"main.min.js","sourcesContent":["var SADIPT = window.SADIPT || {};\r\n\r\nSADIPT = {\r\n\r\n  //inicializa la pagina\r\n  init: function() {\r\n    this.setColorBar();\r\n    this.setToggleMenuButton();\r\n  },\r\n\r\n  refresh: function() {\r\n    this.setPresentationHeight();\r\n  },\r\n\r\n  //setea el alto del div principal de presentacion\r\n  setPresentationHeight: function() {\r\n    var el = document.getElementsByClassName('presentation')[0];\r\n    if(el) {\r\n      var height = window.innerHeight;\r\n      el.style.height = height + 'px';\r\n    }\r\n  },\r\n\r\n  //colorea la toolbar segun la posicion del scroll\r\n  setColorBar: function() {\r\n    var header = document.getElementsByClassName('header')[0];\r\n    if(header) {\r\n      header.style.background = 'rgba(54, 60, 64, '+ document.body.scrollTop*0.007 +')';\r\n      document.addEventListener('scroll', function() {\r\n        header.style.background = 'rgba(54, 60, 64, '+ document.body.scrollTop*0.007 +')';\r\n      }, false);\r\n    }\r\n  },\r\n\r\n  //agrega la funcionalidad del menu responsive\r\n  setToggleMenuButton: function() {\r\n    \r\n    var header = document.querySelector('header');\r\n    var menuButton = document.getElementById('menuButton');\r\n    var menu = document.getElementById('menu');\r\n    var ulMenuMargin = parseInt(getComputedStyle(menu.children[0], null).getPropertyValue('margin').split(' ')[0].split('px')[0]);\r\n    \r\n    menuButton.addEventListener('click', function() {\r\n      \r\n      if(menuButton.children[0].innerHTML === 'menu') {\r\n        menuButton.children[0].innerHTML = 'clear';\r\n        menu.style.height = menu.children[0].offsetHeight + (ulMenuMargin * 2) + 'px';\r\n        menu.style.opacity = '1';\r\n        header.style.background = 'rgba(54, 60, 64, 1)';\r\n      }else {\r\n        menuButton.children[0].innerHTML = 'menu';\r\n        menu.removeAttribute('style');\r\n\r\n        if(document.body.scrollTop === 0) {\r\n          header.style.background = 'rgba(54, 60, 64, 0)';\r\n        }\r\n      }\r\n\r\n    }, false);\r\n\r\n  }\r\n\r\n};\r\n\r\n//carrusel de noticias\r\nvar Carousel = (function() {\r\n\r\n  //defino variables privadas\r\n  var cardsContainer   = document.getElementById('carouselItemsContainer');\r\n  var moveLeft        = document.getElementById('carouselMoveLeft');\r\n  var moveRight       = document.getElementById('carouselMoveRight');\r\n  var controls         = document.getElementById('carouselControls');\r\n  var pos              = 0;\r\n  var cardWidth        = 0;\r\n  var cardsNum         = 0;\r\n  var lim              = 0;\r\n  var containerWidth   = 0;\r\n  var startPosition    = 0;     // start position mousedown event\r\n  var currentPosition  = 0;     // count current translateX value\r\n  var distancePosition = 0;     // count distance between \"down\" & \"move\" event\r\n  var isMouseDown      = false; // check if mouse is down or not\r\n  var needForRAF       = true;  // to prevent redundant rAF calls\r\n\r\n  //funcion privada de inicializacion del carrusel\r\n  function init() {\r\n\r\n    //si tiene tarjetas\r\n    if(cardsContainer.children) {\r\n      var cardMargin = parseInt(getComputedStyle(cardsContainer.children[0].children[0], null).getPropertyValue('margin').split(' ')[1].split('px')[0]);\r\n      cardsNum = cardsContainer.children.length;\r\n      cardWidth = cardsContainer.children[0].offsetWidth + cardMargin*2;\r\n      //siempre centrado\r\n      distancePosition = (((cardsNum/2)*cardWidth)-(window.innerWidth/2))*-1;\r\n      containerWidth = cardWidth * cardsNum;\r\n      //pongo el carrusel en la mitad\r\n      _moveCarousel();\r\n\r\n      if(containerWidth > window.innerWidth) {\r\n        addEvents();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  function _refresh() {\r\n    distancePosition = (((cardsNum/2)*cardWidth)-(window.innerWidth/2))*-1;\r\n    _moveCarousel();\r\n  }\r\n\r\n  function addEvents() {\r\n    //adhiero los eventos a los botones de control\r\n    moveLeft.addEventListener('click', function() {\r\n      lim = _carouselLimits();\r\n      _clickCarousel('left');\r\n    }, false);\r\n\r\n    moveRight.addEventListener('click', function() {\r\n      lim = _carouselLimits();\r\n      _clickCarousel('right');\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('mousedown', function() {\r\n      event.preventDefault(); // reset default behavior\r\n      lim = _carouselLimits();\r\n      cardsContainer.classList.add('is-dragging');\r\n      isMouseDown     = true;\r\n      currentPosition = _getTranslateX(); // get current translateX value\r\n      startPosition   = event.clientX;       // get position X\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('mouseup', function() {\r\n      event.preventDefault();\r\n      cardsContainer.classList.remove('is-dragging');\r\n      isMouseDown = false; // reset mouse is down boolean\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('mousemove', function() {\r\n      _touchCarousel();\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('touchstart', function() {\r\n      lim = _carouselLimits();\r\n      currentPosition = _getTranslateX(); // get current translateX value\r\n      startPosition   = event.touches[0].clientX;       // get position X\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('touchmove', function() {\r\n      cardsContainer.classList.add('is-dragging');\r\n      isMouseDown     = true;\r\n      _touchCarousel();\r\n    }, false);\r\n  }\r\n\r\n  //funcion que sabe que hacer cuando se hace click en las flechas de control\r\n  function _clickCarousel(direction) {\r\n    currentPosition = _getTranslateX(); // get current translateX value\r\n    switch(direction){\r\n      case 'left':\r\n\r\n            moveRight.style.opacity = '1';\r\n            moveRight.style.pointerEvents = 'all';\r\n\r\n            if(currentPosition + cardWidth >= lim.rightLimit) {\r\n              //cuando esta al tope izquierdo oculto el boton de ese mismo lado\r\n              moveLeft.style.opacity = '0';\r\n              moveLeft.style.pointerEvents = 'none';\r\n            }\r\n\r\n            distancePosition = currentPosition + cardWidth;\r\n            _moveCarousel();\r\n\r\n            break;\r\n      case 'right':\r\n\r\n            moveLeft.style.opacity = '1';\r\n            moveLeft.style.pointerEvents = 'all';\r\n\r\n            if(currentPosition - cardWidth <= lim.leftLimit) {\r\n              //cuando esta al tope derecho oculto el boton de ese mismo lado\r\n              moveRight.style.opacity = '0';\r\n              moveRight.style.pointerEvents = 'none';\r\n            }\r\n\r\n            distancePosition = currentPosition - cardWidth;\r\n            _moveCarousel();\r\n\r\n            break;\r\n    }\r\n  }\r\n\r\n  function _carouselLimits() {\r\n\r\n    var ww = window.innerWidth;\r\n    var limits = {};\r\n    var bounds = Math.abs(containerWidth-(ww - 100/*margins and scrollbars*/));\r\n\r\n    limits.rightLimit = 0;\r\n    limits.leftLimit = bounds*-1;\r\n\r\n    return limits;\r\n  }\r\n\r\n  function _getTranslateX() {\r\n    var translateX = parseInt(getComputedStyle(cardsContainer, null).getPropertyValue('transform').split(',')[4]);\r\n    return translateX; // get translateX value\r\n  }\r\n\r\n  function _carouselMovingEvent() {\r\n    var event = new Event('carouselmoving');\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  function _moveCarousel() {\r\n    needForRAF = true; // rAF consumes the movement instruction a new one can come\r\n    cardsContainer.style.transform = 'translateX(' + distancePosition + 'px)';// move it!\r\n    _carouselMovingEvent();\r\n    cardsContainer.addEventListener('webkitTransitionEnd', _carouselMovingEvent, false);\r\n    cardsContainer.addEventListener('oTransitionEnd', _carouselMovingEvent, false);\r\n    cardsContainer.addEventListener('transitionend', _carouselMovingEvent, false);\r\n  }\r\n\r\n  //funcion que sabe que hacer cuando se draggea el carrusel\r\n  function _touchCarousel() {\r\n\r\n    if (needForRAF && isMouseDown) {\r\n\r\n      moveRight.style.opacity = '1';\r\n      moveRight.style.pointerEvents = 'all';\r\n      moveLeft.style.opacity = '1';\r\n      moveLeft.style.pointerEvents = 'all';\r\n      \r\n      var x = 0;\r\n      if(event.clientX !== 0){\r\n        x = event.clientX || event.touches[0].clientX;\r\n      }\r\n\r\n      distancePosition = (x - startPosition) + currentPosition; // count it!\r\n    \r\n      if(distancePosition >= lim.rightLimit){\r\n        distancePosition = lim.rightLimit;\r\n\r\n        moveLeft.style.opacity = '0';\r\n        moveLeft.style.pointerEvents = 'none';\r\n      }\r\n\r\n      if(distancePosition <= lim.leftLimit){\r\n        distancePosition = lim.leftLimit;\r\n\r\n        moveRight.style.opacity = '0';\r\n        moveRight.style.pointerEvents = 'none';\r\n      }\r\n\r\n      needForRAF = false;            // no need to call rAF up until next frame\r\n      requestAnimationFrame(_moveCarousel); // request 60fps animation\r\n    }\r\n    \r\n  }\r\n\r\n  //devuelvo una referencia a la funcion privada que quiero que sea publica\r\n  return {\r\n    init: init,\r\n    refresh: _refresh\r\n  };\r\n\r\n})();\r\n\r\nvar LazyLoad = (function() {\r\n\r\n  function init() {\r\n    _lazyLoadImages();\r\n    window.addEventListener('DOMContentLoaded', _lazyLoadImages);\r\n    window.addEventListener('resize', _lazyLoadImages);\r\n    window.addEventListener('scroll', _lazyLoadImages);\r\n    window.addEventListener('carouselmoving', _lazyLoadImages);\r\n  }\r\n\r\n  function _isElementInViewport (el) {\r\n\r\n    var rect = el.getBoundingClientRect();\r\n\r\n    return (\r\n        rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n    );\r\n  }\r\n\r\n  function _lazyLoadImages() {\r\n\r\n    var images = document.querySelectorAll('img[data-src]'),\r\n        item;\r\n\r\n    // carga las imagenes que fueron entrando al viewport\r\n    [].forEach.call(images, function (item) {\r\n      if (_isElementInViewport(item)) {\r\n        item.setAttribute('src',item.getAttribute('data-src'));\r\n        item.setAttribute('alt',item.getAttribute('data-alt'));\r\n        item.removeAttribute('data-src');\r\n        item.removeAttribute('data-alt');\r\n        item.addEventListener('load', function() {\r\n          item.setAttribute('class','loaded');\r\n        }, false);\r\n      }\r\n    });\r\n\r\n    // si todas las imagenes fueron cargadas remuevo los eventos\r\n    if (images.length === 0) {\r\n      window.removeEventListener('DOMContentLoaded', _lazyLoadImages);\r\n      window.removeEventListener('load', _lazyLoadImages);\r\n      window.removeEventListener('resize', _lazyLoadImages);\r\n      window.removeEventListener('scroll', _lazyLoadImages);\r\n      window.removeEventListener('carouselmoving', _lazyLoadImages);\r\n    }\r\n  }\r\n\r\n  return { \r\n    init: init\r\n  };\r\n\r\n})();"],"sourceRoot":"/source/"}