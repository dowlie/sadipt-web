{"version":3,"sources":["main.js"],"names":["Carousel","init","cardsContainer","children","cardMargin","parseInt","getComputedStyle","getPropertyValue","split","cardsNum","length","cardWidth","offsetWidth","distancePosition","window","innerWidth","containerWidth","_moveCarousel","addEvents","_refresh","moveLeft","addEventListener","lim","_carouselLimits","_clickCarousel","moveRight","event","preventDefault","classList","add","isMouseDown","currentPosition","_getTranslateX","startPosition","clientX","remove","_touchCarousel","touches","direction","style","opacity","pointerEvents","rightLimit","leftLimit","ww","limits","bounds","Math","abs","translateX","_carouselMovingEvent","Event","dispatchEvent","needForRAF","transform","x","requestAnimationFrame","document","getElementById","refresh","LazyImg","_lazyLoadImages","_isElementInViewport","el","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","clientWidth","images","querySelectorAll","forEach","call","item","setAttribute","getAttribute","removeAttribute","removeEventListener","SADIPT","this","setPresentationHeight","setColorBar","setToggleMenuButton","getElementsByClassName","height","header","background","body","scrollTop","querySelector","menuButton","menu","ulMenuMargin","innerHTML","offsetHeight"],"mappings":"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","file":"main.min.js","sourcesContent":["var Carousel = (function() {\r\n\r\n  //defino variables privadas\r\n  //A futuro pasar como parametro el nodo HTML de un carousel\r\n  var cardsContainer   = document.getElementById('carouselItemsContainer');\r\n  var moveLeft        = document.getElementById('carouselMoveLeft');\r\n  var moveRight       = document.getElementById('carouselMoveRight');\r\n  var controls         = document.getElementById('carouselControls');\r\n  var pos              = 0;\r\n  var cardWidth        = 0;\r\n  var cardsNum         = 0;\r\n  var lim              = 0;\r\n  var containerWidth   = 0;\r\n  var startPosition    = 0;     // start position mousedown event\r\n  var currentPosition  = 0;     // count current translateX value\r\n  var distancePosition = 0;     // count distance between \"down\" & \"move\" event\r\n  var isMouseDown      = false; // check if mouse is down or not\r\n  var needForRAF       = true;  // to prevent redundant rAF calls\r\n\r\n  //funcion privada de inicializacion del carrusel\r\n  function init() {\r\n\r\n    //si tiene tarjetas\r\n    if(cardsContainer.children) {\r\n      var cardMargin = parseInt(getComputedStyle(cardsContainer.children[0].children[0], null).getPropertyValue('margin').split(' ')[1].split('px')[0]);\r\n      cardsNum = cardsContainer.children.length;\r\n      cardWidth = cardsContainer.children[0].offsetWidth + cardMargin*2;\r\n      //siempre centrado\r\n      distancePosition = (((cardsNum/2)*cardWidth)-(window.innerWidth/2))*-1;\r\n      containerWidth = cardWidth * cardsNum;\r\n      //pongo el carrusel en la mitad\r\n      _moveCarousel();\r\n\r\n      if(containerWidth > window.innerWidth) {\r\n        addEvents();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  function _refresh() {\r\n    distancePosition = (((cardsNum/2)*cardWidth)-(window.innerWidth/2))*-1;\r\n    _moveCarousel();\r\n  }\r\n\r\n  function addEvents() {\r\n    //adhiero los eventos a los botones de control\r\n    moveLeft.addEventListener('click', function() {\r\n      lim = _carouselLimits();\r\n      _clickCarousel('left');\r\n    }, false);\r\n\r\n    moveRight.addEventListener('click', function() {\r\n      lim = _carouselLimits();\r\n      _clickCarousel('right');\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('mousedown', function() {\r\n      event.preventDefault(); // reset default behavior\r\n      lim = _carouselLimits();\r\n      cardsContainer.classList.add('is-dragging');\r\n      isMouseDown     = true;\r\n      currentPosition = _getTranslateX(); // get current translateX value\r\n      startPosition   = event.clientX;       // get position X\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('mouseup', function() {\r\n      event.preventDefault();\r\n      cardsContainer.classList.remove('is-dragging');\r\n      isMouseDown = false; // reset mouse is down boolean\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('mousemove', function() {\r\n      _touchCarousel();\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('touchstart', function() {\r\n      lim = _carouselLimits();\r\n      currentPosition = _getTranslateX(); // get current translateX value\r\n      startPosition   = event.touches[0].clientX;       // get position X\r\n    }, false);\r\n\r\n    cardsContainer.addEventListener('touchmove', function() {\r\n      cardsContainer.classList.add('is-dragging');\r\n      isMouseDown     = true;\r\n      _touchCarousel();\r\n    }, false);\r\n  }\r\n\r\n  //funcion que sabe que hacer cuando se hace click en las flechas de control\r\n  function _clickCarousel(direction) {\r\n    currentPosition = _getTranslateX(); // get current translateX value\r\n    switch(direction){\r\n      case 'left':\r\n\r\n            moveRight.style.opacity = '1';\r\n            moveRight.style.pointerEvents = 'all';\r\n\r\n            if(currentPosition + cardWidth >= lim.rightLimit) {\r\n              //cuando esta al tope izquierdo oculto el boton de ese mismo lado\r\n              moveLeft.style.opacity = '0';\r\n              moveLeft.style.pointerEvents = 'none';\r\n            }\r\n\r\n            distancePosition = currentPosition + cardWidth;\r\n            _moveCarousel();\r\n\r\n            break;\r\n      case 'right':\r\n\r\n            moveLeft.style.opacity = '1';\r\n            moveLeft.style.pointerEvents = 'all';\r\n\r\n            if(currentPosition - cardWidth <= lim.leftLimit) {\r\n              //cuando esta al tope derecho oculto el boton de ese mismo lado\r\n              moveRight.style.opacity = '0';\r\n              moveRight.style.pointerEvents = 'none';\r\n            }\r\n\r\n            distancePosition = currentPosition - cardWidth;\r\n            _moveCarousel();\r\n\r\n            break;\r\n    }\r\n  }\r\n\r\n  function _carouselLimits() {\r\n\r\n    var ww = window.innerWidth;\r\n    var limits = {};\r\n    var bounds = Math.abs(containerWidth-(ww - 100/*margins and scrollbars*/));\r\n\r\n    limits.rightLimit = 0;\r\n    limits.leftLimit = bounds*-1;\r\n\r\n    return limits;\r\n  }\r\n\r\n  function _getTranslateX() {\r\n    var translateX = parseInt(getComputedStyle(cardsContainer, null).getPropertyValue('transform').split(',')[4]);\r\n    return translateX; // get translateX value\r\n  }\r\n\r\n  function _carouselMovingEvent() {\r\n    var event = new Event('carouselmoving');\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  function _moveCarousel() {\r\n    needForRAF = true; // rAF consumes the movement instruction a new one can come\r\n    cardsContainer.style.transform = 'translateX(' + distancePosition + 'px)';// move it!\r\n    _carouselMovingEvent();\r\n    cardsContainer.addEventListener('webkitTransitionEnd', _carouselMovingEvent, false);\r\n    cardsContainer.addEventListener('oTransitionEnd', _carouselMovingEvent, false);\r\n    cardsContainer.addEventListener('transitionend', _carouselMovingEvent, false);\r\n  }\r\n\r\n  //funcion que sabe que hacer cuando se draggea el carrusel\r\n  function _touchCarousel() {\r\n\r\n    if (needForRAF && isMouseDown) {\r\n\r\n      moveRight.style.opacity = '1';\r\n      moveRight.style.pointerEvents = 'all';\r\n      moveLeft.style.opacity = '1';\r\n      moveLeft.style.pointerEvents = 'all';\r\n      \r\n      var x = 0;\r\n      if(event.clientX !== 0){\r\n        x = event.clientX || event.touches[0].clientX;\r\n      }\r\n\r\n      distancePosition = (x - startPosition) + currentPosition; // count it!\r\n    \r\n      if(distancePosition >= lim.rightLimit){\r\n        distancePosition = lim.rightLimit;\r\n\r\n        moveLeft.style.opacity = '0';\r\n        moveLeft.style.pointerEvents = 'none';\r\n      }\r\n\r\n      if(distancePosition <= lim.leftLimit){\r\n        distancePosition = lim.leftLimit;\r\n\r\n        moveRight.style.opacity = '0';\r\n        moveRight.style.pointerEvents = 'none';\r\n      }\r\n\r\n      needForRAF = false;            // no need to call rAF up until next frame\r\n      requestAnimationFrame(_moveCarousel); // request 60fps animation\r\n    }\r\n    \r\n  }\r\n\r\n  //devuelvo una referencia a la funcion privada que quiero que sea publica\r\n  return {\r\n    init: init,\r\n    refresh: _refresh\r\n  };\r\n\r\n})();\nvar LazyImg = (function() {\r\n\r\n  function init() {\r\n    _lazyLoadImages();\r\n    window.addEventListener('DOMContentLoaded', _lazyLoadImages);\r\n    window.addEventListener('resize', _lazyLoadImages);\r\n    window.addEventListener('scroll', _lazyLoadImages);\r\n    window.addEventListener('carouselmoving', _lazyLoadImages);\r\n  }\r\n\r\n  function _isElementInViewport (el) {\r\n\r\n    var rect = el.getBoundingClientRect();\r\n\r\n    return (\r\n        rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n    );\r\n  }\r\n\r\n  function _lazyLoadImages() {\r\n\r\n    var images = document.querySelectorAll('img[data-src]'),\r\n        item;\r\n\r\n    // carga las imagenes que fueron entrando al viewport\r\n    [].forEach.call(images, function (item) {\r\n      if (_isElementInViewport(item)) {\r\n        item.setAttribute('src',item.getAttribute('data-src'));\r\n        item.setAttribute('alt',item.getAttribute('data-alt'));\r\n        item.removeAttribute('data-src');\r\n        item.removeAttribute('data-alt');\r\n        item.addEventListener('load', function() {\r\n          item.setAttribute('class','loaded');\r\n        }, false);\r\n      }\r\n    });\r\n\r\n    // si todas las imagenes fueron cargadas remuevo los eventos\r\n    if (images.length === 0) {\r\n      window.removeEventListener('DOMContentLoaded', _lazyLoadImages);\r\n      window.removeEventListener('load', _lazyLoadImages);\r\n      window.removeEventListener('resize', _lazyLoadImages);\r\n      window.removeEventListener('scroll', _lazyLoadImages);\r\n      window.removeEventListener('carouselmoving', _lazyLoadImages);\r\n    }\r\n  }\r\n\r\n  return { \r\n    init: init\r\n  };\r\n\r\n})();\nvar SADIPT = window.SADIPT || {};\r\n\r\nSADIPT = {\r\n\r\n  //inicializa la pagina\r\n  init: function() {\r\n    this.setPresentationHeight();\r\n    this.setColorBar();\r\n    this.setToggleMenuButton();\r\n  },\r\n\r\n  //setea el alto del div principal de presentacion\r\n  setPresentationHeight: function() {\r\n    var el = document.getElementsByClassName('presentation')[0];\r\n    if(el) {\r\n      var height = window.innerHeight;\r\n      el.style.height = height + 'px';\r\n    }\r\n  },\r\n\r\n  //colorea la toolbar segun la posicion del scroll\r\n  setColorBar: function() {\r\n    var header = document.getElementsByClassName('header')[0];\r\n    if(header) {\r\n      header.style.background = 'rgba(54, 60, 64, '+ document.body.scrollTop*0.007 +')';\r\n      document.addEventListener('scroll', function() {\r\n        header.style.background = 'rgba(54, 60, 64, '+ document.body.scrollTop*0.007 +')';\r\n      }, false);\r\n    }\r\n  },\r\n\r\n  //agrega la funcionalidad del menu responsive\r\n  setToggleMenuButton: function() {\r\n    \r\n    var header = document.querySelector('header');\r\n    var menuButton = document.getElementById('menuButton');\r\n    var menu = document.getElementById('menu');\r\n    var ulMenuMargin = parseInt(getComputedStyle(menu.children[0], null).getPropertyValue('margin').split(' ')[0].split('px')[0]);\r\n    \r\n    menuButton.addEventListener('click', function() {\r\n      \r\n      if(menuButton.children[0].innerHTML === 'menu') {\r\n        menuButton.children[0].innerHTML = 'clear';\r\n        menu.style.height = menu.children[0].offsetHeight + (ulMenuMargin * 2) + 'px';\r\n        menu.style.opacity = '1';\r\n        header.style.background = 'rgba(54, 60, 64, 1)';\r\n      }else {\r\n        menuButton.children[0].innerHTML = 'menu';\r\n        menu.removeAttribute('style');\r\n\r\n        if(document.body.scrollTop === 0) {\r\n          header.style.background = 'rgba(54, 60, 64, 0)';\r\n        }\r\n      }\r\n\r\n    }, false);\r\n\r\n  }\r\n\r\n};"],"sourceRoot":"/source/"}