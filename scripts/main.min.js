var SADIPT=window.SADIPT||{};SADIPT={init:function(){this.setPresentationHeight(),this.setColorBar(),this.setToggleMenuButton()},setPresentationHeight:function(){var el=document.getElementsByClassName("presentation")[0];if(el){var height=window.innerHeight;el.style.height=height+"px"}},setColorBar:function(){var header=document.getElementsByClassName("header")[0];header&&(header.style.background="rgba(54, 60, 64, "+.007*document.body.scrollTop+")",document.addEventListener("scroll",function(){header.style.background="rgba(54, 60, 64, "+.007*document.body.scrollTop+")"},!1))},setToggleMenuButton:function(){var header=document.querySelector("header"),menuButton=document.getElementById("menuButton"),menu=document.getElementById("menu"),ulMenuMargin=parseInt(getComputedStyle(menu.children[0],null).getPropertyValue("margin").split(" ")[0].split("px")[0]);menuButton.addEventListener("click",function(){"menu"===menuButton.children[0].innerHTML?(menuButton.children[0].innerHTML="clear",menu.style.height=menu.children[0].offsetHeight+2*ulMenuMargin+"px",menu.style.opacity="1",header.style.background="rgba(54, 60, 64, 1)"):(menuButton.children[0].innerHTML="menu",menu.removeAttribute("style"),0===document.body.scrollTop&&(header.style.background="rgba(54, 60, 64, 0)"))},!1)}};var Carousel=function(){function init(){if(cardsContainer.children){var cardMargin=parseInt(getComputedStyle(cardsContainer.children[0].children[0],null).getPropertyValue("margin").split(" ")[1].split("px")[0]);cardsNum=cardsContainer.children.length,cardWidth=cardsContainer.children[0].offsetWidth+2*cardMargin,distancePosition=(cardsNum/2*cardWidth-window.innerWidth/2)*-1,containerWidth=cardWidth*cardsNum,_moveCarousel(),containerWidth>window.innerWidth&&addEvents()}}function _refresh(){distancePosition=(cardsNum/2*cardWidth-window.innerWidth/2)*-1,_moveCarousel()}function addEvents(){moveLeft.addEventListener("click",function(){lim=_carouselLimits(),_clickCarousel("left")},!1),moveRight.addEventListener("click",function(){lim=_carouselLimits(),_clickCarousel("right")},!1),cardsContainer.addEventListener("mousedown",function(){event.preventDefault(),lim=_carouselLimits(),cardsContainer.classList.add("is-dragging"),isMouseDown=!0,currentPosition=_getTranslateX(),startPosition=event.clientX},!1),cardsContainer.addEventListener("mouseup",function(){event.preventDefault(),cardsContainer.classList.remove("is-dragging"),isMouseDown=!1},!1),cardsContainer.addEventListener("mousemove",function(){_touchCarousel()},!1),cardsContainer.addEventListener("touchstart",function(){lim=_carouselLimits(),currentPosition=_getTranslateX(),startPosition=event.touches[0].clientX},!1),cardsContainer.addEventListener("touchmove",function(){cardsContainer.classList.add("is-dragging"),isMouseDown=!0,_touchCarousel()},!1)}function _clickCarousel(direction){switch(currentPosition=_getTranslateX(),direction){case"left":moveRight.style.opacity="1",moveRight.style.pointerEvents="all",currentPosition+cardWidth>=lim.rightLimit&&(moveLeft.style.opacity="0",moveLeft.style.pointerEvents="none"),distancePosition=currentPosition+cardWidth,_moveCarousel();break;case"right":moveLeft.style.opacity="1",moveLeft.style.pointerEvents="all",currentPosition-cardWidth<=lim.leftLimit&&(moveRight.style.opacity="0",moveRight.style.pointerEvents="none"),distancePosition=currentPosition-cardWidth,_moveCarousel()}}function _carouselLimits(){var ww=window.innerWidth,limits={},bounds=Math.abs(containerWidth-(ww-100));return limits.rightLimit=0,limits.leftLimit=bounds*-1,limits}function _getTranslateX(){var translateX=parseInt(getComputedStyle(cardsContainer,null).getPropertyValue("transform").split(",")[4]);return translateX}function _carouselMovingEvent(){var event=new Event("carouselmoving");window.dispatchEvent(event)}function _moveCarousel(){needForRAF=!0,cardsContainer.style.transform="translateX("+distancePosition+"px)",_carouselMovingEvent(),cardsContainer.addEventListener("webkitTransitionEnd",_carouselMovingEvent,!1),cardsContainer.addEventListener("oTransitionEnd",_carouselMovingEvent,!1),cardsContainer.addEventListener("transitionend",_carouselMovingEvent,!1)}function _touchCarousel(){if(needForRAF&&isMouseDown){moveRight.style.opacity="1",moveRight.style.pointerEvents="all",moveLeft.style.opacity="1",moveLeft.style.pointerEvents="all";var x=0;0!==event.clientX&&(x=event.clientX||event.touches[0].clientX),distancePosition=x-startPosition+currentPosition,distancePosition>=lim.rightLimit&&(distancePosition=lim.rightLimit,moveLeft.style.opacity="0",moveLeft.style.pointerEvents="none"),distancePosition<=lim.leftLimit&&(distancePosition=lim.leftLimit,moveRight.style.opacity="0",moveRight.style.pointerEvents="none"),needForRAF=!1,requestAnimationFrame(_moveCarousel)}}var cardsContainer=document.getElementById("carouselItemsContainer"),moveLeft=document.getElementById("carouselMoveLeft"),moveRight=document.getElementById("carouselMoveRight"),cardWidth=(document.getElementById("carouselControls"),0),cardsNum=0,lim=0,containerWidth=0,startPosition=0,currentPosition=0,distancePosition=0,isMouseDown=!1,needForRAF=!0;return{init:init,refresh:_refresh}}(),LazyLoad=function(){function init(){_lazyLoadImages(),window.addEventListener("DOMContentLoaded",_lazyLoadImages),window.addEventListener("resize",_lazyLoadImages),window.addEventListener("scroll",_lazyLoadImages),window.addEventListener("carouselmoving",_lazyLoadImages)}function _isElementInViewport(el){var rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)}function _lazyLoadImages(){var images=document.querySelectorAll("img[data-src]");[].forEach.call(images,function(item){_isElementInViewport(item)&&(item.setAttribute("src",item.getAttribute("data-src")),item.setAttribute("alt",item.getAttribute("data-alt")),item.removeAttribute("data-src"),item.removeAttribute("data-alt"),item.addEventListener("load",function(){item.setAttribute("class","loaded")},!1))}),0===images.length&&(window.removeEventListener("DOMContentLoaded",_lazyLoadImages),window.removeEventListener("load",_lazyLoadImages),window.removeEventListener("resize",_lazyLoadImages),window.removeEventListener("scroll",_lazyLoadImages),window.removeEventListener("carouselmoving",_lazyLoadImages))}return{init:init}}();
//# sourceMappingURL=main.min.js.map
